---

interface Partner {
  name: string;
  logo: string;
  alt?: string;
  url?: string;
}

interface Props {
  partners: Partner[];
  title?: string;
  className?: string;
}

const { 
  partners, 
  title = "", 
  className = ""
} = Astro.props;

// Ne rien afficher si pas de partenaires
if (!partners || partners.length === 0) {
  return null;
}
---

<div class={`partner-grid-compact ${className}`}>
  {title && (
    <h4 class="text-base sm:text-lg text-gray-700 dark:text-gray-300 mb-1 font-handwritten font-medium text-center lg:text-left">
      {title}
    </h4>
  )}
  
  <div class={`gap-2 ${partners.length >= 2 ? 'grid grid-cols-2' : 'flex flex-col'}`}>
    {partners.map((partner) => (
      <div class="partner-item-compact flex items-center justify-center bg-white dark:bg-gray-800 rounded-md p-2 shadow-sm hover:shadow-md transition-all duration-300">
        {partner.url ? (
          <a 
            href={partner.url} 
            target="_blank" 
            rel="noopener noreferrer"
            class="flex items-center justify-center w-full h-full"
            aria-label={`Visiter le site de ${partner.name}`}
          >
            <img
              src={partner.logo}
              alt={partner.alt || `Logo de ${partner.name}`}
              class="h-12 max-w-full object-contain transition-all duration-300"
              loading="lazy"
              decoding="async"
            />
          </a>
        ) : (
          <img
            src={partner.logo}
            alt={partner.alt || `Logo de ${partner.name}`}
            class="h-12 max-w-full object-contain transition-all duration-300"
            loading="lazy"
            decoding="async"
          />
        )}
      </div>
    ))}
  </div>
</div>

<style>
  .partner-grid-compact {
    margin: 0;
  }
  
  .partner-item-compact {
    border: 1px solid rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
    min-height: 52px; /* Ajust√©: moins de padding, logos un peu plus grands */
  }
  
  .dark .partner-item-compact {
    border: 1px solid rgba(255, 255, 255, 0.05);
  }
  
  .partner-item-compact:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    border-color: rgba(0, 0, 0, 0.1);
  }
  
  .dark .partner-item-compact:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    border-color: rgba(255, 255, 255, 0.1);
  }
</style>