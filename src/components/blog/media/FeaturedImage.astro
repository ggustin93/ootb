---
import Image from '~/components/common/Image.astro';
import type { ImageMetadata } from 'astro';
import pedagoscope from '~/assets/images/Pedagoscope.webp';

interface Props {
  image: ImageMetadata | string;
  title: string;
}

const { image: imageProp, title } = Astro.props;
const image = imageProp === '~/assets/images/Pedagoscope.webp' ? pedagoscope : imageProp;
---

<Image
  src={image}
  class="w-full h-full object-cover"
  widths={[400, 900]}
  sizes="(max-width: 900px) 400px, 900px"
  alt={`Image illustrant l'article : ${title}`}
  width={typeof image === 'string' && image.startsWith('/') ? undefined : 900}
  height={typeof image === 'string' && image.startsWith('/') ? undefined : 506}
  inferSize={typeof image === 'string' && image.startsWith('/')}
  loading="eager"
  decoding="async"
/> 