---
import { Image } from 'astro:assets';
import cloudsBg from '~/assets/images/clouds_bg.svg';
import type { HTMLAttributes } from 'astro/types';

type Props = HTMLAttributes<'section'>;

const { class: className, ...props } = Astro.props;
---

<section 
  class:list={[
    "relative min-h-[75vh] flex items-start justify-center overflow-hidden",
    "bg-[--ootb-turquoise]",
    // Dégradé plus doux jusqu'aux nuages
    "bg-gradient-to-b from-[--ootb-turquoise] from-0%",
    "via-[--ootb-turquoise] via-40%",
    "via-[color-mix(in_srgb,var(--ootb-turquoise)_90%,white)] via-60%",
    "via-[color-mix(in_srgb,var(--ootb-turquoise)_70%,white)] via-75%",
    "to-[color-mix(in_srgb,var(--ootb-turquoise)_40%,white)] to-90%",
    className
  ]}
  {...props}
>
  <slot />

  <!-- Nuages -->
  <div class="absolute bottom-[5%] md:bottom-[10%] left-0 right-0 pointer-events-none overflow-hidden">
    <div class="relative w-full">
      <!-- Dégradé pour renforcer la visibilité -->
      <div class="absolute inset-0 bg-gradient-to-b from-transparent to-white/30 z-10"></div>
      
      <Image
        src={cloudsBg}
        alt="Nuages décoratifs"
        class="w-[120%] md:w-[110%] h-auto transform md:scale-110 -translate-x-[10%] translate-y-[25%] md:translate-y-[10%] opacity-90"
        widths={[1200, 1600, 2000]}
        sizes="120vw"
        loading="eager"
        decoding="async"
      />
    </div>
  </div>

  <!-- Section blanche sous les nuages -->
  <div class="absolute -bottom-1 left-0 right-0 h-[15%] md:h-[12%] bg-white"></div>
</section> 