---
import { Image } from 'astro:assets';
import cloudsBg from '~/assets/images/clouds_bg.svg';
import type { HTMLAttributes } from 'astro/types';

type Props = HTMLAttributes<'section'>;

const { class: className, ...props } = Astro.props;
---

<section 
  class:list={[
    // Layout de base : hauteur plein écran, centré horizontalement
    "relative h-screen flex items-start justify-center overflow-hidden",

    // Couleur de base turquoise
    "bg-[--ootb-turquoise]",

    // Dégradé vertical avec 4 points d'arrêt :
    // 1. De 0% à 60% : turquoise pur pour garder une zone solide en haut
    "bg-gradient-to-b from-[--ootb-turquoise] from-0%",
    "via-[--ootb-turquoise] via-60%",

    // 2. À 70% : début subtil du dégradé (90% turquoise)
    "via-[color-mix(in_srgb,var(--ootb-turquoise)_90%,white)] via-70%",

    // 3. À 75% : transition plus marquée (60% turquoise)
    "via-[color-mix(in_srgb,var(--ootb-turquoise)_60%,white)] via-75%",

    // 4. À 80% : fin du dégradé proche du blanc (30% turquoise)
    "to-[color-mix(in_srgb,var(--ootb-turquoise)_30%,white)] to-80%",
    className
  ]}
  {...props}
>
  <slot />

  <!-- Nuages -->
  <div class="absolute bottom-[15%] md:bottom-[18%] left-0 right-0 pointer-events-none overflow-hidden">
    <div class="relative w-full">
      <!-- Dégradé pour renforcer la visibilité -->
      <div class="absolute inset-0 bg-gradient-to-b from-transparent to-white/30 z-10"></div>
      
      <Image
        src={cloudsBg}
        alt="Nuages décoratifs"
        class="w-[100%] md:w-[100%] h-auto transform"
        widths={[1200, 1600, 2000]}
        sizes="120vw"
        loading="eager"
        decoding="async"
      />
    </div>
  </div>

  <!-- Section blanche sous les nuages -->
  <div class="absolute bottom-[0%] md:-bottom-1 left-0 right-0 h-[1%] md:h-[19%] bg-white"></div>
</section> 