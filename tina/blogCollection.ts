import type { Collection } from 'tinacms';

export const blogCollection: Collection = {
  label: 'üìÑ Page - Nos contenus',
  name: 'blog',
  path: 'src/content/blog',
  format: 'json',
  ui: {
    allowedActions: {
      create: false,
      delete: false,
    },
  },
  defaultItem: () => ({
    metadata: {
      title: 'Nos contenus | Out of the Books',
      description:
        "D√©couvrez nos podcasts, vid√©os p√©dagogiques, fiches pratiques et contenus premium pour transformer l'√©ducation",
    },
    hero: {
      title: 'Nos contenus',
      description:
        "D√©couvrez nos podcasts, vid√©os p√©dagogiques, fiches pratiques et contenus premium pour transformer l'√©ducation",
      mascotteImage: '/src/assets/images/ootb-logo.svg',
      filters: {
        orLabel: 'ou',
        labels: {
          default: 'Filtrer par type de contenu :',
          category: 'Filtrer par type de contenus :',
        },
        categoryFilters: {
          allLabel: 'Tous',
          mobileSelectLabel: 'Tous les contenus',
        },
      },
      contentSection: {
        title: 'Tous les contenus',
      },
      search: {
        placeholder: 'Ex: IA, Montessori, inclusion, ...',
        thematicLabel: "Rechercher par th√©matique ou titre d'article :",
      },
    },
    contentTypes: {
      all: {
        label: 'TOUS',
        shortLabel: 'Tous',
        titlePrefix: 'Tous',
        titleSuffix: 'contenus',
        pageTitle: 'Tous nos contenus',
        actionLabel: 'Voir tous les contenus',
        icon: 'tabler:layout-grid',
        variant: 'default',
        description:
          "D√©couvrez nos podcasts, vid√©os p√©dagogiques, fiches pratiques et contenus premium pour transformer l'√©ducation",
      },
      actualite: {
        label: 'ACTUALIT√âS',
        shortLabel: 'Actualit√©s',
        titlePrefix: 'Nos',
        titleSuffix: 'actualit√©s',
        pageTitle: 'Nos actualit√©s',
        actionLabel: 'Voir les actualit√©s',
        icon: 'tabler:news',
        variant: 'actualite',
        description: "Restez inform√© des derni√®res innovations p√©dagogiques et des actualit√©s du monde de l'√©ducation",
      },
    },
  }),
  fields: [
    {
      type: 'object',
      name: 'metadata',
      label: 'M√©tadonn√©es',
      ui: {
        itemProps: (_item) => {
          return { label: 'M√©tadonn√©es SEO' };
        },
      },
      fields: [
        {
          type: 'string',
          name: 'title',
          label: 'Titre SEO',
          description:
            "Titre qui appara√Æt dans les r√©sultats de recherche (50-60 caract√®res). Ne pas inclure '| Out of the Books' car il sera ajout√© automatiquement.",
          required: false,
        },
        {
          type: 'string',
          name: 'description',
          label: 'Description SEO',
          description: 'Courte description pour les r√©sultats de recherche (150-160 caract√®res recommand√©s).',
          ui: {
            component: 'textarea',
          },
          required: false,
        },
        {
          type: 'image',
          name: 'image',
          label: 'Image de partage',
          description: 'Image utilis√©e lors du partage sur les r√©seaux sociaux (1200x630px recommand√©).',
          required: false,
        },
      ],
    },
    // === Encarts descriptifs d√©plac√© ici pour UX (juste apr√®s M√©tadonn√©es) ===
    {
      type: 'object',
      name: 'categoryInfo',
      label: 'Encarts descriptifs par type de contenu',
      description: "Informations d√©taill√©es, logos, couleurs, liens et partenaires pour chaque cat√©gorie. Ces encarts apparaissent plus bas sur la page sous forme de cartes/sections descriptives.",
      fields: [
        {
          type: 'object',
          name: 'tv',
          label: '√âmissions TV',
          fields: [
            {
              type: 'string',
              name: 'colorVariable',
              label: 'Variable de couleur CSS (non modifiable)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'image',
              name: 'logo',
              label: 'Logo',
              required: true,
            },
            {
              type: 'string',
              name: 'title',
              label: 'Titre',
              required: true,
            },
            {
              type: 'rich-text',
              name: 'description',
              label: 'Description',
            },
            {
              type: 'object',
              name: 'links',
              label: 'Liens',
              list: true,
              fields: [
                { type: 'string', name: 'icon', label: 'Ic√¥ne (technique)', required: true, ui: { component: () => null } },
                { type: 'string', name: 'label', label: 'Libell√©', required: true },
                { type: 'string', name: 'url', label: 'URL', required: true },
              ],
            },
            {
              type: 'object',
              name: 'partners',
              label: 'Partenaires de la cat√©gorie',
              list: true,
              ui: { itemProps: (item) => ({ label: item?.name || 'Nouveau Partenaire' }) },
              fields: [
                { type: 'string', name: 'name', label: 'Nom du partenaire', required: true },
                { type: 'image', name: 'logo', label: 'Logo du partenaire', required: true },
                { type: 'string', name: 'alt', label: 'Texte alternatif pour le logo', required: false },
                { type: 'string', name: 'url', label: 'Site web du partenaire', description: 'URL vers le site du partenaire', required: false },
              ],
            },
          ],
        },
        {
          type: 'object',
          name: 'podcast',
          label: 'Podcasts',
          fields: [
            { type: 'string', name: 'colorVariable', label: 'Variable de couleur CSS (non modifiable)', required: true, ui: { component: () => null } },
            { type: 'image', name: 'logo', label: 'Logo', required: true },
            { type: 'string', name: 'title', label: 'Titre', required: true },
            { type: 'rich-text', name: 'description', label: 'Description' },
            {
              type: 'object',
              name: 'links',
              label: 'Liens',
              list: true,
              fields: [
                { type: 'string', name: 'icon', label: 'Ic√¥ne (technique)', required: true, ui: { component: () => null } },
                { type: 'string', name: 'label', label: 'Libell√©', required: true },
                { type: 'string', name: 'url', label: 'URL', required: true },
              ],
            },
            {
              type: 'object',
              name: 'partners',
              label: 'Partenaires de la cat√©gorie',
              list: true,
              ui: { itemProps: (item) => ({ label: item?.name || 'Nouveau Partenaire' }) },
              fields: [
                { type: 'string', name: 'name', label: 'Nom du partenaire', required: true },
                { type: 'image', name: 'logo', label: 'Logo du partenaire', required: true },
                { type: 'string', name: 'alt', label: 'Texte alternatif pour le logo', required: false },
                { type: 'string', name: 'url', label: 'Site web du partenaire', description: 'URL vers le site du partenaire', required: false },
              ],
            },
          ],
        },
        {
          type: 'object',
          name: 'fiche',
          label: 'Fiches p√©dagogiques',
          fields: [
            { type: 'string', name: 'colorVariable', label: 'Variable de couleur CSS (non modifiable)', required: true, ui: { component: () => null } },
            { type: 'string', name: 'title', label: 'Titre', required: true },
            { type: 'rich-text', name: 'description', label: 'Description' },
            {
              type: 'object',
              name: 'links',
              label: 'Liens',
              list: true,
              fields: [
                { type: 'string', name: 'icon', label: 'Ic√¥ne (technique)', required: true, ui: { component: () => null } },
                { type: 'string', name: 'label', label: 'Libell√©', required: true },
                { type: 'string', name: 'url', label: 'URL', required: true },
              ],
            },
          ],
        },
        {
          type: 'object',
          name: 'actualite',
          label: 'Actualit√©s',
          fields: [
            { type: 'string', name: 'colorVariable', label: 'Variable de couleur CSS (non modifiable)', required: true, ui: { component: () => null } },
            { type: 'string', name: 'title', label: 'Titre', required: true },
            { type: 'rich-text', name: 'description', label: 'Description' },
            {
              type: 'object',
              name: 'links',
              label: 'Liens',
              list: true,
              fields: [
                { type: 'string', name: 'icon', label: 'Ic√¥ne (technique)', required: true, ui: { component: () => null } },
                { type: 'string', name: 'label', label: 'Libell√©', required: true },
                { type: 'string', name: 'url', label: 'URL', required: true },
              ],
            },
          ],
        },
        {
          type: 'object',
          name: 'live',
          label: 'Lives Facebook',
          fields: [
            { type: 'string', name: 'colorVariable', label: 'Variable de couleur CSS (non modifiable)', required: true, ui: { component: () => null } },
            { type: 'string', name: 'title', label: 'Titre', required: true },
            { type: 'rich-text', name: 'description', label: 'Description' },
            {
              type: 'object',
              name: 'links',
              label: 'Liens',
              list: true,
              fields: [
                { type: 'string', name: 'icon', label: 'Ic√¥ne (technique)', required: true, ui: { component: () => null } },
                { type: 'string', name: 'label', label: 'Libell√©', required: true },
                { type: 'string', name: 'url', label: 'URL', required: true },
              ],
            },
          ],
        },
        {
          type: 'object',
          name: 'premium',
          label: 'Contenu Premium',
          fields: [
            { type: 'string', name: 'colorVariable', label: 'Variable de couleur CSS (non modifiable)', required: true, ui: { component: () => null } },
            { type: 'string', name: 'title', label: 'Titre', required: true },
            { type: 'rich-text', name: 'description', label: 'Description' },
            {
              type: 'object',
              name: 'links',
              label: 'Liens',
              list: true,
              fields: [
                { type: 'string', name: 'icon', label: 'Ic√¥ne (technique)', required: true, ui: { component: () => null } },
                { type: 'string', name: 'label', label: 'Libell√©', required: true },
                { type: 'string', name: 'url', label: 'URL', required: true },
              ],
            },
            {
              type: 'object',
              name: 'qrCode',
              label: 'QR Code',
              fields: [
                { type: 'image', name: 'src', label: 'Image source', required: true },
                { type: 'string', name: 'alt', label: 'Texte alternatif', required: true },
                { type: 'string', name: 'caption', label: 'L√©gende', required: true },
              ],
            },
          ],
        },
      ],
    },
    {
      type: 'object',
      name: 'hero', // nom technique conserv√©
      label: "En-t√™te de page (Header)",
      description: "Texte principal, sous-titre et image mascotte affich√©s tout en haut de la page Nos contenus.",
      fields: [
        {
          type: 'string',
          name: 'title',
          label: 'Titre principal',
          required: true,
        },
        {
          type: 'string',
          name: 'description',
          label: 'Description',
          required: true,
          ui: {
            component: 'textarea',
          },
        },
        {
          type: 'image',
          name: 'mascotteImage',
          label: 'Image mascotte',
          required: true,
        },
        {
          type: 'object',
          name: 'filters',
          label: 'Filtres',
          fields: [
            {
              type: 'string',
              name: 'orLabel',
              label: 'Texte de s√©paration',
              required: true,
            },
            {
              type: 'object',
              name: 'labels',
              label: 'Labels des filtres',
              fields: [
                {
                  type: 'string',
                  name: 'default',
                  label: 'Label par d√©faut',
                  required: true,
                },
                {
                  type: 'string',
                  name: 'category',
                  label: 'Label pour les cat√©gories',
                  required: true,
                },
              ],
            },
            {
              type: 'object',
              name: 'categoryFilters',
              label: 'Filtres de cat√©gories',
              fields: [
                {
                  type: 'string',
                  name: 'allLabel',
                  label: "Label pour 'Tous'",
                  required: true,
                },
                {
                  type: 'string',
                  name: 'mobileSelectLabel',
                  label: 'Label pour le menu d√©roulant mobile',
                  required: true,
                },
              ],
            },
          ],
        },
        {
          type: 'object',
          name: 'contentSection',
          label: 'Section Contenu',
          fields: [
            {
              type: 'string',
              name: 'title',
              label: 'Titre de la section',
              required: true,
            },
          ],
        },
        {
          type: 'object',
          name: 'search',
          label: 'Barre de recherche',
          fields: [
            {
              type: 'string',
              name: 'placeholder',
              label: 'Placeholder',
              required: true,
            },
            {
              type: 'string',
              name: 'thematicLabel',
              label: 'Label de recherche th√©matique',
              required: true,
            },
          ],
        },
      ],
    },
    {
      type: 'object',
      name: 'contentTypes',
      label: "En-t√™te de page (Header) - Par cat√©gorie",
      description: "Configuration des titres, labels, actions et options d'affichage pour chaque type de contenu (utilis√© pour les filtres, titres de section, CTA, etc.).",
      fields: [
        {
          type: 'object',
          name: 'all',
          label: 'Tous les contenus',
          fields: [
            {
              type: 'string',
              name: 'label',
              label: 'Libell√© complet',
              required: true,
            },
            {
              type: 'string',
              name: 'shortLabel',
              label: 'Libell√© court',
              required: true,
            },
            {
              type: 'string',
              name: 'titlePrefix',
              label: 'Pr√©fixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'titleSuffix',
              label: 'Suffixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'pageTitle',
              label: 'Titre de la page',
              required: true,
            },
            {
              type: 'string',
              name: 'actionLabel',
              label: "Libell√© d'action",
              required: true,
            },
            {
              type: 'string',
              name: 'icon',
              label: 'Ic√¥ne (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'variant',
              label: 'Variante (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'description',
              label: 'Description',
              required: true,
              ui: {
                component: 'textarea',
              },
            },
          ],
        },
        {
          type: 'object',
          name: 'actualite',
          label: 'Actualit√©s',
          fields: [
            {
              type: 'string',
              name: 'label',
              label: 'Libell√© complet',
              required: true,
            },
            {
              type: 'string',
              name: 'shortLabel',
              label: 'Libell√© court',
              required: true,
            },
            {
              type: 'string',
              name: 'titlePrefix',
              label: 'Pr√©fixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'titleSuffix',
              label: 'Suffixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'pageTitle',
              label: 'Titre de la page',
              required: true,
            },
            {
              type: 'string',
              name: 'actionLabel',
              label: "Libell√© d'action",
              required: true,
            },
            {
              type: 'string',
              name: 'icon',
              label: 'Ic√¥ne (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'variant',
              label: 'Variante (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'description',
              label: 'Description',
              required: true,
              ui: {
                component: 'textarea',
              },
            },
          ],
        },
        {
          type: 'object',
          name: 'fiche',
          label: 'Fiches p√©dagogiques',
          fields: [
            {
              type: 'string',
              name: 'label',
              label: 'Libell√© complet',
              required: true,
            },
            {
              type: 'string',
              name: 'shortLabel',
              label: 'Libell√© court',
              required: true,
            },
            {
              type: 'string',
              name: 'titlePrefix',
              label: 'Pr√©fixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'titleSuffix',
              label: 'Suffixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'pageTitle',
              label: 'Titre de la page',
              required: true,
            },
            {
              type: 'string',
              name: 'actionLabel',
              label: "Libell√© d'action",
              required: true,
            },
            {
              type: 'string',
              name: 'icon',
              label: 'Ic√¥ne (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'variant',
              label: 'Variante (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'description',
              label: 'Description',
              required: true,
              ui: {
                component: 'textarea',
              },
            },
          ],
        },
        {
          type: 'object',
          name: 'live',
          label: 'Lives Facebook',
          fields: [
            {
              type: 'string',
              name: 'label',
              label: 'Libell√© complet',
              required: true,
            },
            {
              type: 'string',
              name: 'shortLabel',
              label: 'Libell√© court',
              required: true,
            },
            {
              type: 'string',
              name: 'titlePrefix',
              label: 'Pr√©fixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'titleSuffix',
              label: 'Suffixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'pageTitle',
              label: 'Titre de la page',
              required: true,
            },
            {
              type: 'string',
              name: 'actionLabel',
              label: "Libell√© d'action",
              required: true,
            },
            {
              type: 'string',
              name: 'icon',
              label: 'Ic√¥ne (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'variant',
              label: 'Variante (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'description',
              label: 'Description',
              required: true,
              ui: {
                component: 'textarea',
              },
            },
          ],
        },
        {
          type: 'object',
          name: 'podcast',
          label: 'Podcasts',
          fields: [
            {
              type: 'string',
              name: 'label',
              label: 'Libell√© complet',
              required: true,
            },
            {
              type: 'string',
              name: 'shortLabel',
              label: 'Libell√© court',
              required: true,
            },
            {
              type: 'string',
              name: 'titlePrefix',
              label: 'Pr√©fixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'titleSuffix',
              label: 'Suffixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'pageTitle',
              label: 'Titre de la page',
              required: true,
            },
            {
              type: 'string',
              name: 'actionLabel',
              label: "Libell√© d'action",
              required: true,
            },
            {
              type: 'string',
              name: 'icon',
              label: 'Ic√¥ne (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'variant',
              label: 'Variante (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'rich-text',
              name: 'description',
              label: 'Description',
            },
            {
              type: 'object',
              name: 'links',
              label: 'Liens',
              list: true,
              fields: [
                {
                  type: 'string',
                  name: 'icon',
                  label: 'Ic√¥ne (technique)',
                  required: true,
                  ui: {
                    component: () => null,
                  },
                },
                {
                  type: 'string',
                  name: 'label',
                  label: 'Libell√©',
                  required: true,
                },
                {
                  type: 'string',
                  name: 'url',
                  label: 'URL',
                  required: true,
                },
              ],
            },
          ],
        },
        {
          type: 'object',
          name: 'tv',
          label: '√âmissions TV',
          fields: [
            {
              type: 'string',
              name: 'label',
              label: 'Libell√© complet',
              required: true,
            },
            {
              type: 'string',
              name: 'shortLabel',
              label: 'Libell√© court',
              required: true,
            },
            {
              type: 'string',
              name: 'titlePrefix',
              label: 'Pr√©fixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'titleSuffix',
              label: 'Suffixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'pageTitle',
              label: 'Titre de la page',
              required: true,
            },
            {
              type: 'string',
              name: 'actionLabel',
              label: "Libell√© d'action",
              required: true,
            },
            {
              type: 'string',
              name: 'icon',
              label: 'Ic√¥ne (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'variant',
              label: 'Variante (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'rich-text',
              name: 'description',
              label: 'Description',
            },
            {
              type: 'object',
              name: 'links',
              label: 'Liens',
              list: true,
              fields: [
                {
                  type: 'string',
                  name: 'icon',
                  label: 'Ic√¥ne (technique)',
                  required: true,
                  ui: {
                    component: () => null,
                  },
                },
                {
                  type: 'string',
                  name: 'label',
                  label: 'Libell√©',
                  required: true,
                },
                {
                  type: 'string',
                  name: 'url',
                  label: 'URL',
                  required: true,
                },
              ],
            },
          ],
        },
        {
          type: 'object',
          name: 'premium',
          label: 'Contenu Premium',
          fields: [
            {
              type: 'string',
              name: 'label',
              label: 'Libell√© complet',
              required: true,
            },
            {
              type: 'string',
              name: 'shortLabel',
              label: 'Libell√© court',
              required: true,
            },
            {
              type: 'string',
              name: 'titlePrefix',
              label: 'Pr√©fixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'titleSuffix',
              label: 'Suffixe du titre',
              required: true,
            },
            {
              type: 'string',
              name: 'pageTitle',
              label: 'Titre de la page',
              required: true,
            },
            {
              type: 'string',
              name: 'actionLabel',
              label: "Libell√© d'action",
              required: true,
            },
            {
              type: 'string',
              name: 'icon',
              label: 'Ic√¥ne (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'variant',
              label: 'Variante (technique)',
              required: true,
              ui: {
                component: () => null,
              },
            },
            {
              type: 'string',
              name: 'description',
              label: 'Description',
              required: true,
              ui: {
                component: 'textarea',
              },
            },
            {
              type: 'string',
              name: 'heroDescription',
              label: 'Description pour le hero',
              required: false,
              ui: {
                component: 'textarea',
              },
            },
            {
              type: 'object',
              name: 'links',
              label: 'Liens',
              list: true,
              fields: [
                {
                  type: 'string',
                  name: 'icon',
                  label: 'Ic√¥ne (technique)',
                  required: true,
                  ui: {
                    component: () => null,
                  },
                },
                {
                  type: 'string',
                  name: 'label',
                  label: 'Libell√©',
                  required: true,
                },
                {
                  type: 'string',
                  name: 'url',
                  label: 'URL',
                  required: true,
                },
                {
                  type: 'string',
                  name: 'variant',
                  label: 'Variante (technique)',
                  required: false,
                  ui: {
                    component: () => null,
                  },
                },
              ],
            },
            {
              type: 'object',
              name: 'qrCode',
              label: 'QR Code',
              fields: [
                {
                  type: 'image',
                  name: 'src',
                  label: 'Image source',
                  required: true,
                },
                {
                  type: 'string',
                  name: 'alt',
                  label: 'Texte alternatif',
                  required: true,
                },
                {
                  type: 'string',
                  name: 'caption',
                  label: 'L√©gende',
                  required: true,
                },
              ],
            },
          ],
        },
      ],
    },
  ],
};
